\hypertarget{chatwindow_8h_source}{}\doxysection{chatwindow.\+h}
\label{chatwindow_8h_source}\index{chatwindow.h@{chatwindow.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef CHATWINDOW\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define CHATWINDOW\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <QWidget>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <QAbstractSocket>}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <QVector>}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <QString>}}
\DoxyCodeLine{9 \textcolor{preprocessor}{\#include <QListWidgetItem>}}
\DoxyCodeLine{10 \textcolor{preprocessor}{\#include <QQueue>}}
\DoxyCodeLine{11 }
\DoxyCodeLine{12 \textcolor{keyword}{class }\mbox{\hyperlink{class_chat_client}{ChatClient}};}
\DoxyCodeLine{13 \textcolor{keyword}{class }\mbox{\hyperlink{class_parser}{Parser}};}
\DoxyCodeLine{14 \textcolor{keyword}{class }QStandardItemModel;}
\DoxyCodeLine{15 \textcolor{keyword}{class }\mbox{\hyperlink{class_private_chat}{PrivateChat}};}
\DoxyCodeLine{16 \textcolor{keyword}{class }\mbox{\hyperlink{class_group_chat}{GroupChat}};}
\DoxyCodeLine{17 }
\DoxyCodeLine{18 }
\DoxyCodeLine{19 \textcolor{keyword}{namespace }Ui \{ \textcolor{keyword}{class }\mbox{\hyperlink{class_chat_window}{ChatWindow}}; \}}
\DoxyCodeLine{24 \textcolor{keyword}{class }\mbox{\hyperlink{class_chat_window}{ChatWindow}} : \textcolor{keyword}{public} QWidget}
\DoxyCodeLine{25 \{}
\DoxyCodeLine{26     Q\_OBJECT}
\DoxyCodeLine{27     Q\_DISABLE\_COPY(\mbox{\hyperlink{class_chat_window}{ChatWindow}})}
\DoxyCodeLine{28 \textcolor{keyword}{public}:}
\DoxyCodeLine{29     \textcolor{keyword}{explicit} \mbox{\hyperlink{class_chat_window_a870f144a418794b7da640ceed7af32c9}{ChatWindow}}(QWidget *parent = \textcolor{keyword}{nullptr});}
\DoxyCodeLine{30     \mbox{\hyperlink{class_chat_window}{\string~ChatWindow}}();}
\DoxyCodeLine{31    \mbox{\hyperlink{class_chat_client}{ChatClient}}* \mbox{\hyperlink{class_chat_window_a1b2e1610e54015f1732f54184148b836}{getChatClient}}();}
\DoxyCodeLine{32 }
\DoxyCodeLine{33 }
\DoxyCodeLine{34 \textcolor{keyword}{private}:}
\DoxyCodeLine{35     \mbox{\hyperlink{class_ui_1_1_chat_window}{Ui::ChatWindow}} *ui;}
\DoxyCodeLine{36     \mbox{\hyperlink{class_chat_client}{ChatClient}} *m\_chatClient;}
\DoxyCodeLine{37     QStandardItemModel *m\_chatModel;}
\DoxyCodeLine{38 }
\DoxyCodeLine{39     QString m\_lastUserName;}
\DoxyCodeLine{40     QVector<QString> m\_selectedUsers;}
\DoxyCodeLine{41     \mbox{\hyperlink{class_parser}{Parser}} *m\_parser;}
\DoxyCodeLine{42      QQueue<QString> m\_rooms;}
\DoxyCodeLine{43      QVector<PrivateChat *> m\_privateChats;}
\DoxyCodeLine{44     QVector<GroupChat *> m\_groupChats;}
\DoxyCodeLine{45     QList<QString> m\_roomRequests;}
\DoxyCodeLine{46     QList<QString> m\_roomUsersRequest;}
\DoxyCodeLine{47 \textcolor{keyword}{private} slots:}
\DoxyCodeLine{48     \textcolor{keywordtype}{void} attemptConnection();}
\DoxyCodeLine{49     \textcolor{keywordtype}{void} attemptLogin(\textcolor{keyword}{const} QString \&username);}
\DoxyCodeLine{50     \textcolor{keywordtype}{void} loggedIn(\textcolor{keyword}{const} QString \&username);}
\DoxyCodeLine{51     \textcolor{keywordtype}{void} loginFailed(\textcolor{keyword}{const} QString \&reason);}
\DoxyCodeLine{52     \textcolor{keywordtype}{void} logJson(\textcolor{keyword}{const} QString \&json);}
\DoxyCodeLine{53     \textcolor{keywordtype}{void} publicMessageReceived(\textcolor{keyword}{const} QString \&sender, \textcolor{keyword}{const} QString \&text);}
\DoxyCodeLine{54     \textcolor{keywordtype}{void} privateMessageReceived(\textcolor{keyword}{const} QString \&sender, \textcolor{keyword}{const} QString \&message);}
\DoxyCodeLine{55     \textcolor{keywordtype}{void} sendMessage();}
\DoxyCodeLine{56     \textcolor{keywordtype}{void} disconnectedFromServer();}
\DoxyCodeLine{57     \textcolor{keywordtype}{void} userJoined(\textcolor{keyword}{const} QString \&username);}
\DoxyCodeLine{58     \textcolor{keywordtype}{void} userLeft(\textcolor{keyword}{const} QString \&username);}
\DoxyCodeLine{59     \textcolor{keywordtype}{void} connectedToServer();}
\DoxyCodeLine{60     \textcolor{keywordtype}{void} error(QAbstractSocket::SocketError socketError);}
\DoxyCodeLine{61     \textcolor{keywordtype}{void} createRoom();}
\DoxyCodeLine{62     \textcolor{keywordtype}{void} userListReceived(\textcolor{keyword}{const} QJsonArray \&userList);}
\DoxyCodeLine{63     \textcolor{keywordtype}{void} refreshUserList(\textcolor{keyword}{const} QVector<QString> \&users);}
\DoxyCodeLine{64     \textcolor{keywordtype}{void} getUserList();}
\DoxyCodeLine{65     \textcolor{keywordtype}{void} newRoomRejected();}
\DoxyCodeLine{66     \textcolor{keywordtype}{void} newRoomCreated();}
\DoxyCodeLine{67     \textcolor{keywordtype}{bool} containsPrivateChat(\textcolor{keyword}{const} QString \&chatName);}
\DoxyCodeLine{68     \textcolor{keywordtype}{void} roomInvitationReceived(\textcolor{keyword}{const} QString \&roomName, \textcolor{keyword}{const} QString \&message, \textcolor{keyword}{const} QString \&sender);}
\DoxyCodeLine{69 }
\DoxyCodeLine{70     \textcolor{keywordtype}{void} changeUserStatus(\textcolor{keyword}{const} QString \&username, \textcolor{keywordtype}{int} newStatus);}
\DoxyCodeLine{71     \textcolor{keywordtype}{void} privateChatClosed(\textcolor{keyword}{const} QString \&chatName);}
\DoxyCodeLine{72 }
\DoxyCodeLine{73     \textcolor{keywordtype}{void} on\_clientList\_itemClicked(QListWidgetItem *item);}
\DoxyCodeLine{74     \textcolor{keywordtype}{void} on\_clientList\_itemDoubleClicked(QListWidgetItem *item);}
\DoxyCodeLine{75     \textcolor{keywordtype}{void} addUser(\textcolor{keyword}{const} QString \&username);}
\DoxyCodeLine{76     \textcolor{keywordtype}{void} roomMessageReceived(\textcolor{keyword}{const} QString \&sender, \textcolor{keyword}{const} QString \&roomName, \textcolor{keyword}{const} QString \&message);}
\DoxyCodeLine{77     \textcolor{comment}{//slots to handle room operations}}
\DoxyCodeLine{78 }
\DoxyCodeLine{79     \textcolor{keywordtype}{void} roomUsers(\textcolor{keyword}{const} QJsonArray \&list);}
\DoxyCodeLine{80     \textcolor{keywordtype}{void} requestRoomUsers(\textcolor{keyword}{const} QString \&roomName);}
\DoxyCodeLine{81     \textcolor{keywordtype}{void} roomUserJoined(\textcolor{keyword}{const} QString \&roomName, \textcolor{keyword}{const} QString \&username);}
\DoxyCodeLine{82     \textcolor{keywordtype}{void} roomUserLeft(\textcolor{keyword}{const} QString \&roomName, \textcolor{keyword}{const} QString \&username);}
\DoxyCodeLine{83     \textcolor{keywordtype}{void} leaveRoom(\textcolor{keyword}{const} QString \&roomName);}
\DoxyCodeLine{84 signals:}
\DoxyCodeLine{85     \textcolor{keywordtype}{void} sendJson(\textcolor{keyword}{const} QJsonObject \&json);}
\DoxyCodeLine{86 }
\DoxyCodeLine{87 }
\DoxyCodeLine{88     \textcolor{keywordtype}{void} processTerminated();}
\DoxyCodeLine{89 }
\DoxyCodeLine{90         \textcolor{keywordtype}{void} invitationReceived(\textcolor{keyword}{const} QString \&sender, \textcolor{keyword}{const} QString \&roomName);}
\DoxyCodeLine{91 }
\DoxyCodeLine{92 }
\DoxyCodeLine{93 \};}
\DoxyCodeLine{94 }
\DoxyCodeLine{95 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// CHATWONDOW\_H}}

\end{DoxyCode}
